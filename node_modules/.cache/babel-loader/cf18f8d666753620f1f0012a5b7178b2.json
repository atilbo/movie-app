{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"C:/Users/atilb/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/atilb/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/atilb/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/atilb/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import MovieList from'./components/MovieList';import MovieListHeading from'./components/MovieListHeading';import SearchBox from'./components/SearchBox';import AddFavourites from'./components/AddFavourites';import RemoveFavourites from'./components/RemoveFavourites';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favourites=_useState4[0],setFavourites=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=1ecca8cd\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieFavourites=JSON.parse(localStorage.getItem('react-movie-app-favourites'));if(movieFavourites){setFavourites(movieFavourites);}},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('react-movie-app-favourites',JSON.stringify(items));};var addFavouriteMovie=function addFavouriteMovie(movie){var newFavouriteList=[].concat(_toConsumableArray(favourites),[movie]);setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};var removeFavouriteMovie=function removeFavouriteMovie(movie){var newFavouriteList=favourites.filter(function(favourite){return favourite.imdbID!==movie.imdbID;});setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavouritesClick:addFavouriteMovie,favouriteComponent:AddFavourites})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Favourites\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:favourites,handleFavouritesClick:removeFavouriteMovie,favouriteComponent:RemoveFavourites})})]});};export default App;","map":{"version":3,"sources":["C:/Users/atilb/movie-app/src/App.js"],"names":["React","useState","useEffect","MovieList","MovieListHeading","SearchBox","AddFavourites","RemoveFavourites","App","movies","setMovies","favourites","setFavourites","searchValue","setSearchValue","getMovieRequest","url","fetch","response","json","responseJson","Search","movieFavourites","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addFavouriteMovie","movie","newFavouriteList","removeFavouriteMovie","filter","favourite","imdbID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport MovieList from './components/MovieList';\nimport MovieListHeading from './components/MovieListHeading';\nimport SearchBox from './components/SearchBox';\nimport AddFavourites from './components/AddFavourites';\nimport RemoveFavourites from './components/RemoveFavourites';\n\nconst App = () => {\n\tconst [movies, setMovies] = useState([]);\n\tconst [favourites, setFavourites] = useState([]);\n\tconst [searchValue, setSearchValue] = useState('');\n\n\tconst getMovieRequest = async (searchValue) => {\n\t\tconst url = `http://www.omdbapi.com/?s=${searchValue}&apikey=1ecca8cd`;\n\n\t\tconst response = await fetch(url);\n\t\tconst responseJson = await response.json();\n\n\t\tif (responseJson.Search) {\n\t\t\tsetMovies(responseJson.Search);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetMovieRequest(searchValue);\n\t}, [searchValue]);\n\n\tuseEffect(() => {\n\t\tconst movieFavourites = JSON.parse(\n\t\t\tlocalStorage.getItem('react-movie-app-favourites')\n\t\t);\n\n\t\tif (movieFavourites) {\n\t\t\tsetFavourites(movieFavourites);\n\t\t}\n\t}, []);\n\n\tconst saveToLocalStorage = (items) => {\n\t\tlocalStorage.setItem('react-movie-app-favourites', JSON.stringify(items));\n\t};\n\n\tconst addFavouriteMovie = (movie) => {\n\t\tconst newFavouriteList = [...favourites, movie];\n\t\tsetFavourites(newFavouriteList);\n\t\tsaveToLocalStorage(newFavouriteList);\n\t};\n\n\tconst removeFavouriteMovie = (movie) => {\n\t\tconst newFavouriteList = favourites.filter(\n\t\t\t(favourite) => favourite.imdbID !== movie.imdbID\n\t\t);\n\n\t\tsetFavourites(newFavouriteList);\n\t\tsaveToLocalStorage(newFavouriteList);\n\t};\n\n\treturn (\n\t\t<div className='container-fluid movie-app'>\n\t\t\t<div className='row d-flex align-items-center mt-4 mb-4'>\n\t\t\t\t<MovieListHeading heading='Movies' />\n\t\t\t\t<SearchBox searchValue={searchValue} setSearchValue={setSearchValue} />\n\t\t\t</div>\n\t\t\t<div className='row'>\n\t\t\t\t<MovieList\n\t\t\t\t\tmovies={movies}\n\t\t\t\t\thandleFavouritesClick={addFavouriteMovie}\n\t\t\t\t\tfavouriteComponent={AddFavourites}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='row d-flex align-items-center mt-4 mb-4'>\n\t\t\t\t<MovieListHeading heading='Favourites' />\n\t\t\t</div>\n\t\t\t<div className='row'>\n\t\t\t\t<MovieList\n\t\t\t\t\tmovies={favourites}\n\t\t\t\t\thandleFavouritesClick={removeFavouriteMovie}\n\t\t\t\t\tfavouriteComponent={RemoveFavourites}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}